<div class="main-content">
    <ReturnButton/>

    <div class='main-title'>
      {{ (operacao === 'editar' || operacao === 'visualizar') ? subject.name : 'Criar perfil de usuário' }}
    </div>
    <div class="tittle sub-tittle mb-4">
      Preencha os campos abaixo para adicionar perfis à PUMA, que poderão ser utilizados pelos usuarios para cadastro. 
    </div>

    <ValidationObserver ref="observer" v-slot="{invalid}" @submit.prevent="onSubmit()">
      <div class="form m-0">
        <div class="form-col-1">
          <ValidationProvider rules="required|min:10" v-slot="v" :bails="false" name="Nome do perfil">
            <div role="group" class="group">
              <label for="name" class="input-label">Nome do perfil</label>
              <input type="text" id="name" maxlength="1020" class="input-textfield"
                placeholder="Informe o nome do perfil que será utilizado pelos usuários da plataforma no processo de cadastro" v-model="name" :disabled=isLoading
                v-bind:class="{ 'input-focus': !v.errors.length && operacao !== 'visualizar', 'input-error': v.errors.length }">
              <span class="input-error-span" v-for="erro in v.errors">
                {{ erro }}
              </span>
            </div>
          </ValidationProvider>
          
          <ValidationProvider rules="required|min:200" v-slot="v" :bails="false" name="Ementa">
            <div role="group" class="group">
              <label for="descricao" class="input-label">Descrição do perfil</label>
              <textarea id="descricao" placeholder="Forneça a descrição do perfil desse tipo de usuário. Essa informação aparecerá para os usuários durante a etapa de cadastro"
                maxlength="1000" rows="10" v-model="courseSyllabus" :disabled=isLoading class="input-textarea"
                v-bind:class="{ 'input-focus': !v.errors.length && operacao !== 'visualizar', 'input-error': v.errors.length }">
              </textarea>
              <span class="input-counter">({{courseSyllabus.length}}/1000)</span>
              <span class="input-error-span" v-for="erro in v.errors">
                {{ erro }}
              </span>
            </div>
          </ValidationProvider>       
          
          <div class="div-buttons" v-if="operacao !== 'visualizar'">
            <input :value="operacao === 'editar' ? 'Editar' : 'Criar perfil de usuário'" v-if="!isLoading && operacao !== 'visualizar'"
              type="submit" class="cadastro-button" @click="onSubmit" />

            <input :value="'Voltar'" v-if="!isLoading && operacao !== 'visualizar'"
              type="submit" class="cadastro-button cadastro-button-voltar" @click="$router.push({path: '/disciplinas'}).catch(() => {})" />
          </div>

          <div class="divFooter">
            <button
              class="kw-btn-crud-cancel"
              style="margin-right: 5%;"
              @click="openModalRegister=false"
            >
              Cancelar
            </button>
      
            <button class="kw-btn-confirm" @click="handleAdd()">
              Criar
            </button>
          </div>
        </div>
      </div>
    </ValidationObserver>
</div>
